<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<link rel="icon" type="image/x-icon" href="assets/favicon.ico" />
<head>
  <meta charset="UTF-8">
  <title>게시글 상세보기</title>
</head>
<body>
<h1>게시글 상세</h1>
<div>
  <h2 th:text="${post.title}">제목</h2>
  <p th:text="${post.content}">내용</p>
  <p>작성자: <span id="author" th:text="${post.user.nickName}">별명</span></p>
</div>
<button class="btn btn-secondary" onclick="history.back()">돌아가기</button>
<button id="edit-button" style="display: none;">수정</button>

<script>
  window.onload = function() {
    var localNickName = localStorage.getItem('nickname');
    var authorNickName = document.getElementById('author').textContent;

    if (localNickName === authorNickName) {
      var editButton = document.getElementById('edit-button');
      editButton.style.display = 'block';
      editButton.onclick = function() {
        var id = window.location.pathname.split('/').pop();
        window.location.href = '/post/edit/' + id;
      }
    }
  }
</script>
</body>
</html>